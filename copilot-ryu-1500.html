<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
<title>Happy 1500 Hours ‚Äî Celebration</title>
<style>
:root{
  --bg1:#fff6fb; --bg2:#e3f2ff; --bg3:#cde7ff;
  --ink:#242424; --shadow:0 12px 28px rgba(0,0,0,.15);
}
html,body{
  height:100%;margin:0;overflow:hidden;
  font-family:"Pretendard",-apple-system,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
  color:var(--ink);
}
body{background:linear-gradient(180deg,var(--bg1),var(--bg2) 70%,var(--bg3));}

/* Intro */
.intro{
  position:fixed;inset:0;display:flex;justify-content:center;align-items:center;
  background:radial-gradient(circle at 50% 40%,#fff6fb 0%,#ffddee 45%,#ffc3e5 100%);
  transition:opacity .8s ease;flex-direction:column;padding:0 4vw;
}
.card{
  background:#fff;border:3px solid #ffa3c2;border-radius:20px;padding:28px 26px;
  text-align:center;box-shadow:var(--shadow);width:min(420px,92vw);
}
.card h1{margin:6px 0 2px;font-size:22px;color:#ff2e93}
.cakeWrap{position:relative;height:200px;margin:10px 0 16px}
.cake{
  position:absolute;left:50%;transform:translateX(-50%);bottom:0;
  width:220px;height:120px;background:linear-gradient(#ffd7e6,#ffc4db);
  border-radius:18px 18px 10px 10px;box-shadow:inset 0 -10px 0 #ffb6d0,0 10px 20px rgba(0,0,0,.12);
}
.cake::before{
  content:'';position:absolute;left:0;right:0;top:-22px;height:40px;
  background:
    radial-gradient(20px 14px at 10px 18px,#fff 98%,transparent 100%),
    radial-gradient(20px 14px at 42px 18px,#fff 98%,transparent 100%),
    radial-gradient(20px 14px at 74px 18px,#fff 98%,transparent 100%),
    radial-gradient(20px 14px at 106px 18px,#fff 98%,transparent 100%),
    radial-gradient(20px 14px at 138px 18px,#fff 98%,transparent 100%),
    radial-gradient(20px 14px at 170px 18px,#fff 98%,transparent 100%),
    linear-gradient(#fff,#ffeaf4);
}
.candle{
  position:absolute;left:50%;transform:translateX(-50%);bottom:100px;width:16px;height:52px;
  background:repeating-linear-gradient(45deg,#ff94c3 0 6px,#ffe7f3 6px 12px);
  border-radius:6px;box-shadow:inset 0 0 0 2px rgba(0,0,0,.05);
}
.flame{
  position:absolute;left:50%;transform:translateX(-50%);bottom:156px;width:22px;height:32px;
  background:radial-gradient(ellipse at 50% 60%,#fff8a7 0%,#ffd45e 50%,#ff9d00 70%,transparent 71%);
  filter:drop-shadow(0 0 8px #ffd45e) drop-shadow(0 0 14px #ff9d00);
  border-radius:50%;animation:flicker .12s infinite alternate;
}
@keyframes flicker{from{transform:translateX(-50%) rotate(-3deg);}to{transform:translateX(-50%) rotate(3deg);}}
button{appearance:none;border:0;background:#fff;border-radius:12px;padding:10px 14px;font-weight:800;box-shadow:var(--shadow);cursor:pointer}
button:active{transform:scale(.97);}
.smoke{position:absolute;left:50%;bottom:156px;transform:translateX(-50%);pointer-events:none}
.smoke span{
  position:absolute;width:10px;height:10px;border-radius:50%;background:rgba(180,180,180,.5);
  filter:blur(1px);opacity:0;animation:puff 1.2s ease-out forwards;
}
@keyframes puff{
  0%{transform:translate(-4px,4px) scale(.6);opacity:0;}
  20%{opacity:.8;}
  100%{transform:translate(-4px,-80px) scale(1.8);opacity:0;}
}

/* Party Scene */
.party{position:fixed;inset:0;opacity:0;pointer-events:none;transition:opacity .9s ease}
.party.active{opacity:1;pointer-events:auto}
.cloud{
  position:absolute;top:80px;background:#fff;border-radius:50%;
  box-shadow:30px 20px 0 10px #fff,60px 10px 0 15px #fff,90px 20px 0 10px #fff;
  opacity:.95;animation:drift 60s linear infinite;
}
@keyframes drift{from{transform:translateX(-220px)}to{transform:translateX(120vw)}}
.center-wrap{
  position:absolute;left:50%;top:46%;transform:translate(-50%,-50%);text-align:center;user-select:none;
}
.date{
  font-family:"Segoe Script","Snell Roundhand","Apple Chancery","Comic Sans MS",cursive;
  font-size:clamp(28px,8vw,78px);color:#ff2e93;
  text-shadow:0 0 6px #fff,0 0 12px #fff,0 0 22px #ffc7ea;
}
.headline{
  margin-top:8px;font-weight:900;font-size:clamp(18px,5vw,44px);
  color:#7a2c9f;text-shadow:0 2px 0 #fff;
}

/* Plane */
.plane-wrap{position:absolute;left:-120px;top:14%;filter:drop-shadow(0 8px 10px rgba(0,0,0,.18))}
.plane-hit{position:absolute;inset:-28px;cursor:pointer}
.plane{font-size:clamp(70px,12vw,120px)}
.banner{
  position:absolute;left:-520px;top:22px;white-space:nowrap;padding:10px 20px;border-radius:14px;
  background:linear-gradient(90deg,#fff,#fff0f8);border:2px dashed #ff8bd7;color:#ff2e93;font-weight:900;
  text-shadow:0 0 8px #ffd3f0,0 0 12px #ffc7ea;animation:wave 2s ease-in-out infinite;
}
@keyframes wave{0%,100%{transform:rotate(2deg)}50%{transform:rotate(-2deg)}}
canvas#fx{position:absolute;inset:0;pointer-events:none}
.hide{display:none!important}
</style>
</head>
<body>
<section class="intro" id="intro">
  <div class="card" id="cakeBtn">
    <h1>Special Invitation</h1>
    <p>üéÇ Ï¥õÎ∂àÏùÑ Í∫ºÏÑú ÌååÌã∞Î•º ÏãúÏûëÌï¥Ïöî!</p>
    <div class="cakeWrap">
      <div class="cake"></div>
      <div class="candle"></div>
      <div class="flame" id="flame"></div>
      <div class="smoke" id="smoke"></div>
    </div>
    <button>üïØÔ∏è Blow the Candle</button>
  </div>
</section>

<section class="party" id="party">
  <div class="cloud" style="left:4%;width:140px;height:70px;animation-delay:0s;"></div>
  <div class="cloud" style="left:35%;width:180px;height:86px;animation-delay:12s;"></div>
  <div class="cloud" style="left:70%;width:120px;height:64px;animation-delay:25s;"></div>
  <div class="center-wrap">
    <div class="date">2025.10.20</div>
    <div class="headline">Happy 1500 hours üéâ</div>
  </div>
  <canvas id="fx"></canvas>
  <div class="plane-wrap" id="planeWrap">
    <div class="plane-hit" id="planeHit"></div>
    <div class="plane" id="plane">‚úàÔ∏è</div>
    <div class="banner">Co-Pilot Ryu ‚Äî Congratulations!</div>
  </div>
</section>

<script>
(() => {
  const intro=document.getElementById('intro');
  const party=document.getElementById('party');
  const cakeBtn=document.getElementById('cakeBtn');
  const flame=document.getElementById('flame');
  const smokeBox=document.getElementById('smoke');

  // üì± Î™®Î∞îÏùº ÌÑ∞Ïπò ÏßÄÏõê
	function addTapEvent(el, fn) {
	  ['click','touchend'].forEach(evt => {
		el.addEventListener(evt, fn, {passive:true});
	  });
	}


  function blowCandle(){
    if(!flame || intro.classList.contains('hide'))return;
    flame.style.transition='opacity .3s ease';
    flame.style.opacity='0';
    for(let i=0;i<6;i++){
      const s=document.createElement('span');
      s.style.left=(Math.random()*20-10)+'px';
      s.style.animationDelay=(i*0.05)+'s';
      smokeBox.appendChild(s);
    }
    setTimeout(()=>{
      intro.style.opacity='0';
      intro.style.pointerEvents='none';
      setTimeout(()=>{
        intro.classList.add('hide');
        party.classList.add('active');
        setTimeout(initialBoom,400);
      },900);
    },400);
  }

  addTapEvent(cakeBtn,blowCandle);

  /* Ìè≠Ï£Ω */
  const cvs=document.getElementById('fx');
  const ctx=cvs.getContext('2d');
  let W,H,DPR;
  function resize(){
    DPR=Math.min(2,window.devicePixelRatio||1);
    W=cvs.width=Math.floor(innerWidth*DPR);
    H=cvs.height=Math.floor(innerHeight*DPR);
    cvs.style.width=innerWidth+'px';
    cvs.style.height=innerHeight+'px';
  }
  addEventListener('resize',resize,{passive:true});resize();
  const COLORS=['#ff69b4','#ff9bd0','#6ecbff','#b388ff','#ffe066','#9ff3d2','#ffffff'];
  const P=[];
  function burst(x,y,count=180){
    for(let i=0;i<count;i++){
      const a=Math.random()*Math.PI*2,sp=2+Math.random()*5;
      P.push({x:x*DPR,y:y*DPR,vx:Math.cos(a)*sp*DPR,vy:Math.sin(a)*sp*DPR,g:0.05*DPR,life:90+Math.random()*50,r:4+Math.random()*8,c:COLORS[(Math.random()*COLORS.length)|0]});
    }
  }
  function loop(){
    ctx.clearRect(0,0,W,H);
    for(let i=P.length-1;i>=0;i--){
      const p=P[i];p.x+=p.vx;p.y+=p.vy;p.vy+=p.g;p.life--;
      ctx.globalAlpha=Math.max(0,p.life/110);
      ctx.fillStyle=p.c;ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fill();
      if(p.life<=0)P.splice(i,1);
    }
    requestAnimationFrame(loop);
  }
  requestAnimationFrame(loop);
  function initialBoom(){
    burst(innerWidth*0.5,innerHeight*0.42,200);
    setTimeout(()=>burst(innerWidth*0.7,innerHeight*0.2,140),300);
    setTimeout(()=>burst(innerWidth*0.3,innerHeight*0.25,140),500);
  }

  /* ÎπÑÌñâÍ∏∞ */
  const planeWrap=document.getElementById('planeWrap');
  const plane=document.getElementById('plane');
  const planeHit=document.getElementById('planeHit');

  function syncHitbox(){
    const r=plane.getBoundingClientRect();
    planeHit.style.left='-28px';
    planeHit.style.top='-28px';
    planeHit.style.width=(r.width+56)+'px';
    planeHit.style.height=(r.height+56)+'px';
  }
  new ResizeObserver(syncHitbox).observe(plane);
  addEventListener('resize',syncHitbox,{passive:true});
  setTimeout(syncHitbox,80);

  function animatePlane(t0){
    const t=(performance.now()-t0)/1000;
    const speed=160;
    const x=((t*speed)%(innerWidth+320))-160;
    const y=innerHeight*0.14+Math.sin(t*1.8)*innerHeight*0.07;
    planeWrap.style.transform=`translate(${x}px,${y}px) rotate(${Math.sin(t*2)*3}deg)`;
    requestAnimationFrame(()=>animatePlane(t0));
  }
  requestAnimationFrame(()=>animatePlane(performance.now()));

  function boomAtPlane(){
    const r=plane.getBoundingClientRect();
    burst(r.left+r.width*0.7,r.top+r.height*0.4,220);
    plane.animate([{transform:'scale(1)'},{transform:'scale(1.15) rotate(8deg)'},{transform:'scale(1)'}],{duration:360,easing:'ease-out'});
  }
  ['addTapEvent','touchstart','click'].forEach(evt=>{
    planeHit.addEventListener(evt,boomAtPlane,{passive:true});
  });
})();
</script>
</body>
</html>
